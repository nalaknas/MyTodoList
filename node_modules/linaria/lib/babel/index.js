"use strict";

exports.__esModule = true;
exports.default = linaria;

var _loadOptions = _interopRequireDefault(require("./utils/loadOptions"));

var _logger = require("./utils/logger");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * File defines babel prest for Linaria.
 * It uses ./extract function that is an entry point for styles extraction.
 * It also bypass babel options defined in Linaria config file with it's defaults (see ./utils/loadOptions).
 */
function isEnabled(caller) {
  return (caller == null ? void 0 : caller.name) !== 'linaria' || !caller.evaluate;
}

function linaria(babel, options) {
  if (!babel.caller(isEnabled)) {
    return {};
  }

  (0, _logger.debug)('options', JSON.stringify(options));
  return {
    plugins: [[require('./extract'), (0, _loadOptions.default)(options)]]
  };
}
//# sourceMappingURL=index.js.map