{"version":3,"sources":["../../../src/babel/utils/loadOptions.ts"],"names":["explorer","loadOptions","overrides","configFile","ignore","rest","result","undefined","loadSync","searchSync","displayName","evaluate","rules","action","require","default","test","config"],"mappings":";;;;;AAAA;;;;AAOA,MAAMA,QAAQ,GAAG,0BAAY,SAAZ,CAAjB;;AAEe,SAASC,WAAT,CACbC,SAAiC,GAAG,EADvB,EAEW;AACxB,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,MAAd;AAAsB,OAAGC;AAAzB,MAAkCH,SAAxC;AAEA,QAAMI,MAAM,GACVH,UAAU,KAAKI,SAAf,GACIP,QAAQ,CAACQ,QAAT,CAAkBL,UAAlB,CADJ,GAEIH,QAAQ,CAACS,UAAT,EAHN;AAKA,SAAO;AACLC,IAAAA,WAAW,EAAE,KADR;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLC,IAAAA,KAAK,EAAE,CACL;AACEC,MAAAA,MAAM,EAAEC,OAAO,CAAC,yBAAD,CAAP,CAAmCC;AAD7C,KADK,EAIL;AACE;AACAC,MAAAA,IAAI,EAAEZ,MAAF,WAAEA,MAAF,GAAY,kBAFlB;AAGES,MAAAA,MAAM,EAAE;AAHV,KAJK,CAHF;AAaL,QAAIP,MAAM,GAAGA,MAAM,CAACW,MAAV,GAAmB,IAA7B,CAbK;AAcL,OAAGZ;AAdE,GAAP;AAgBD","sourcesContent":["import cosmiconfig from 'cosmiconfig';\nimport type { StrictOptions } from '../types';\n\nexport type PluginOptions = StrictOptions & {\n  configFile?: string;\n};\n\nconst explorer = cosmiconfig('linaria');\n\nexport default function loadOptions(\n  overrides: Partial<PluginOptions> = {}\n): Partial<StrictOptions> {\n  const { configFile, ignore, ...rest } = overrides;\n\n  const result =\n    configFile !== undefined\n      ? explorer.loadSync(configFile)\n      : explorer.searchSync();\n\n  return {\n    displayName: false,\n    evaluate: true,\n    rules: [\n      {\n        action: require('../evaluators/extractor').default,\n      },\n      {\n        // The old `ignore` option is used as a default value for `ignore` rule.\n        test: ignore ?? /\\/node_modules\\//,\n        action: 'ignore',\n      },\n    ],\n    ...(result ? result.config : null),\n    ...rest,\n  };\n}\n"],"file":"loadOptions.js"}