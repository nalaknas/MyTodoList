"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var hashFn=_interopDefault(require("fnv1a")),inlineStylePrefixer=require("inline-style-prefixer");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var unitless={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},shortHandProperties=["animation","background","border","border-bottom","border-left","border-radius","border-right","border-top","column-rule","columns","flex","flex-flow","font","grid","grid-area","grid-column","grid-row","grid-template","list-style","margin","offset","outline","overflow","padding","place-content","place-items","place-self","text-decoration","transition"],i18n={properties:{borderTopLeftRadius:"borderTopRightRadius",borderTopRightRadius:"borderTopLeftRadius",borderBottomLeftRadius:"borderBottomRightRadius",borderBottomRightRadius:"borderBottomLeftRadius",borderLeftColor:"borderRightColor",borderLeftStyle:"borderRightStyle",borderLeftWidth:"borderRightWidth",borderRightColor:"borderLeftColor",borderRightStyle:"borderLeftStyle",borderRightWidth:"borderLeftWidth",left:"right",marginLeft:"marginRight",marginRight:"marginLeft",paddingLeft:"paddingRight",paddingRight:"paddingLeft",right:"left"},values:{ltr:"rtl",rtl:"ltr",left:"right",right:"left",wResize:"eResize",eResize:"wResize",swResize:"seResize",seResize:"swResize",nwResize:"neResize",neResize:"nwResize"}},minMaxWidth=/(!?\(\s*min(-device-)?-width).+\(\s*max(-device)?-width/i,minWidth=/\(\s*min(-device)?-width/i,maxMinWidth=/(!?\(\s*max(-device)?-width).+\(\s*min(-device)?-width/i,maxWidth=/\(\s*max(-device)?-width/i,isMinWidth=_testQuery(minMaxWidth,maxMinWidth,minWidth),isMaxWidth=_testQuery(maxMinWidth,minMaxWidth,maxWidth),minMaxHeight=/(!?\(\s*min(-device)?-height).+\(\s*max(-device)?-height/i,minHeight=/\(\s*min(-device)?-height/i,maxMinHeight=/(!?\(\s*max(-device)?-height).+\(\s*min(-device)?-height/i,maxHeight=/\(\s*max(-device)?-height/i,isMinHeight=_testQuery(minMaxHeight,maxMinHeight,minHeight),isMaxHeight=_testQuery(maxMinHeight,minMaxHeight,maxHeight),isPrint=/print/i,isPrintOnly=/^print$/i,maxValue=Number.MAX_VALUE;function _getQueryLength(e){var t=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/.exec(e);if(null===t)return maxValue;var r=t[1];switch(t[2]){case"ch":r=8.8984375*parseFloat(r);break;case"em":case"rem":r=16*parseFloat(r);break;case"ex":r=8.296875*parseFloat(r);break;case"px":r=parseFloat(r)}return+r}function _testQuery(e,t,r){return function(i){return!!e.test(i)||!t.test(i)&&r.test(i)}}function _testIsPrint(e,t){var r=isPrint.test(e),i=isPrintOnly.test(e),n=isPrint.test(t),o=isPrintOnly.test(t);return r&&n?!i&&o?1:i&&!o?-1:e.localeCompare(t):r?1:n?-1:null}function sortCSSmq(e,t){if(""===e)return-1;if(""===t)return 1;var r=_testIsPrint(e,t);if(null!==r)return r;var i=isMinWidth(e)||isMinHeight(e),n=isMaxWidth(e)||isMaxHeight(e),o=isMinWidth(t)||isMinHeight(t),a=isMaxWidth(t)||isMaxHeight(t);if(i&&a)return-1;if(n&&o)return 1;var s=_getQueryLength(e),u=_getQueryLength(t);return s===maxValue&&u===maxValue?e.localeCompare(t):s===maxValue?1:u===maxValue?-1:s>u?n?-1:1:s<u?n?1:-1:e.localeCompare(t)}function createOrderedCSSStyleSheet(e){var t,r={},i={};null!=e&&Array.prototype.forEach.call(e.cssRules,(function(e,n){var o=e.cssText;if(o.indexOf("style-sheet-group")>-1)t=decodeGroupRule(e),r[t]={start:n,rules:[o],mq:[]};else{var a=getSelectorText(o);if(null!=a){i[a.selector]=!0;var s=r[t].rules.length-1;a.media&&-1===(s=r[t].mq.indexOf(a.media))&&(r[t].mq.push(a.media),r[t].mq.sort(sortCSSmq),s=r[t].mq.indexOf(a.media)),r[t].rules.splice(s+1,0,o)}}}));function n(e,t,i,n){var o=getOrderedGroups(r),a=o.indexOf(t)+1,s=o[a],u=null!=s&&null!=r[s].start?r[s].start-_typeof(n)==="number"?r[t].rules.length-n:0:e.cssRules.length,l=insertRuleAt(e,i,u);if(l){null==r[t].start&&(r[t].start=u);for(var c=a;c<o.length;c+=1){var f=o[c],d=r[f].start;r[f].start=d+1}}return l}function o(){return getOrderedGroups(r).reduce((function(e,t,i){return e+(i>0?"\n":"")+r[t].rules.join("\n")}),"")}return{getTextContent:o,flush:function(){var t=o();return r={},i={},null!=e&&Array.prototype.forEach.call(e.cssRules,(function(t,r){e.deleteRule(r)})),t},insertRule:function(t,o,a){var s=Number(o);if(isNaN(s))throw new Error("".concat(o," - Invalid group. Use OrderedCSSStyleSheet.insertRule(cssText, groupId)"));if(null==r[s]){var u=encodeGroupRule(s);r[s]={start:null,rules:[u],mq:[]},null!=e&&n(e,s,u)}var l=getSelectorText(t);if(null!=l&&null==i[l.selector]){if(i[l.selector]=!0,"number"!=typeof a&&(a=r[s].rules.length-1,l.media&&-1===(a=r[s].mq.indexOf(l.media))&&(r[s].mq.push(l.media),r[s].mq.sort(sortCSSmq),a=r[s].mq.indexOf(l.media))),a>r[s].rules.length-1)throw new Error("index ".concat(a," out of bound for group ").concat(s));if(r[s].rules.splice(a+1,0,t),null!=e)n(e,s,t,a)||r[s].rules.splice(a+1,1)}}}}function encodeGroupRule(e){return'[style-sheet-group="'.concat(e,'"]{}')}function decodeGroupRule(e){return Number(e.selectorText.split(/["']/)[1])}function getOrderedGroups(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var pattern=/\s*([,])\s*/g;function getSelectorText(e){var t=e.split("{"),r=t[0].trim(),i=null;return r.startsWith("@media")&&(i=r.substring(6).trim(),r=t[1].trim()),""!==r?{media:i,selector:r.replace(pattern,"$1")}:null}function insertRuleAt(e,t,r){try{return e.insertRule(t,r),!0}catch(e){return!1}}var STYLE_GROUPS=["classic","mediaClassic","shorthand","mediaShorthand","shorthandCombinator","mediaShorthandCombinator","i18nShorthand","mediaI18nShorthand","i18nShorthandCombinator","mediaI18nShorthandCombinator","atomic","mediaAtomic","atomicCombinator","mediaAtomicCombinator"].reduce((function(e,t,r){return e[t]=r,e}),{});function createClassName(e,t,r,i){var n=getRuleType(e,i,r);return"dss".concat(n,"_").concat(hashFn(e+r+i).toString(36),"-").concat(hashFn(String(t)).toString(36))}var hyphenate=function(e){return e.replace(/[A-Z]|^ms/g,"-$&").toLowerCase()},strigifyDeclaration=function(e){var t="";for(var r in e){var i=e[r];if(Array.isArray(i))for(var n=0;n<i.length;n++)t+=hyphenate(r)+":"+i[n]+";";else t+=hyphenate(r)+":"+i+";"}return t};function createRule(e,t,r,i){var n="."+e.replace(".","\\."),o=(r?r.replace(/^&/,n).replace(/&/g,n):n)+"{"+strigifyDeclaration(t)+"}";return i?i+"{"+o+"}":o}var order={pseudo:["link","visited","hover","focus-within","focus-visible","focus","active"]};function getRuleType(e,t,r){var i="";i=shortHandProperties.indexOf(e)>-1?t?"mediaShorthand":"shorthand":t?"mediaAtomic":"atomic";var n=0;if(r){var o;"&:"!==r.substr(0,2)?(i+="Combinator",o=r.slice(1).split(/\s*[+>~]\s*/g)[0]):o=r.slice(2);var a=order.pseudo.indexOf(o.split(":").slice(-1)[0]);a>-1&&(n=a+1)}return n>0?STYLE_GROUPS[i]+"."+n:STYLE_GROUPS[i]}function normalizeValue(e){if("number"==typeof e){if(0!==e)return e+"px"}else if(Array.isArray(e))return e.map((function(e){return"number"==typeof e&&0!==e?e+"px":e}));return e}function toI18n(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:null}var cache={},parse=function e(t,r,i,n){var o={};for(var a in t){var s=t[a];if(null!=s)switch(Object.prototype.toString.call(s)){case"[object Object]":var u="@"===a.charAt(0)?e(s,r,a,n):e(s,r+a,i,n);Object.assign(o,u);break;default:var l=a+s+r+i,c=cache[l];if(c){Object.assign(o,c);break}var f=createClassName(a,s,r,i);if(o[f])break;unitless[a]||(s=normalizeValue(s));var d=createRule(f,inlineStylePrefixer.prefix(_defineProperty({},a,s)),r,i);if(n.i18n){var h=a,p=s;if(a=toI18n(i18n.properties,h),s=toI18n(i18n.values,p),null!==a||null!==s){var m=createClassName(a=a||h,s=s||p,r,i);f="".concat(f,"|").concat(m),d=[d,createRule(m,inlineStylePrefixer.prefix(_defineProperty({},a,s)),r,i)]}}o[f]=d,cache[l]=_defineProperty({},f,d)}}return o},compile=function(e,t){if(!e)throw new Error("DSS parser invoked without a mandatory styles object.");return parse(e,"","",t)},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var stackframe=createCommonjsModule((function(e,t){e.exports=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],n=["fileName","functionName","source"],o=r.concat(i,n,["args"]);function a(t){if(t instanceof Object)for(var r=0;r<o.length;r++)t.hasOwnProperty(o[r])&&void 0!==t[o[r]]&&this["set"+e(o[r])](t[o[r]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:i?i+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},a.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),i=e.substring(0,t),n=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),u=s[1],l=s[2],c=s[3];return new a({functionName:i,args:n||void 0,fileName:u,lineNumber:l||void 0,columnNumber:c||void 0})};for(var s=0;s<r.length;s++)a.prototype["get"+e(r[s])]=t(r[s]),a.prototype["set"+e(r[s])]=function(e){return function(t){this[e]=Boolean(t)}}(r[s]);for(var u=0;u<i.length;u++)a.prototype["get"+e(i[u])]=t(i[u]),a.prototype["set"+e(i[u])]=function(e){return function(t){if(r=t,isNaN(parseFloat(r))||!isFinite(r))throw new TypeError(e+" must be a Number");var r;this[e]=Number(t)}}(i[u]);for(var l=0;l<n.length;l++)a.prototype["get"+e(n[l])]=t(n[l]),a.prototype["set"+e(n[l])]=function(e){return function(t){this[e]=String(t)}}(n[l]);return a}()})),errorStackParser=createCommonjsModule((function(e,t){var r,i,n,o;e.exports=(r=stackframe,i=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,o=/^(eval@)?(\[native code\])?$/,{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),i=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=i?t.replace(i[0],""):t).split(/\s+/).slice(1),o=this.extractLocation(i?i[1]:n.pop()),a=n.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new r({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(o)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new r({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=e.match(t),n=i&&i[1]?i[1]:void 0,o=this.extractLocation(e.replace(t,""));return new r({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,i=e.message.split("\n"),n=[],o=2,a=i.length;o<a;o+=2){var s=t.exec(i[o]);s&&n.push(new r({fileName:s[2],lineNumber:s[1],source:i[o]}))}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=e.stacktrace.split("\n"),n=[],o=0,a=i.length;o<a;o+=2){var s=t.exec(i[o]);s&&n.push(new r({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:i[o]}))}return n},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(i)&&!e.match(/^Error created at/)}),this).map((function(e){var t,i=e.split("@"),n=this.extractLocation(i.pop()),o=i.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(t=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new r({functionName:a,args:s,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e})}),this)}})})),isBrowser="undefined"!=typeof window,isProd=!0;function createStyleSheet(e,t){var r="undefined"==typeof Map?null:new Map;return{create:function(i){if(r){var n=r.get(i);if(n)return n}var o={},a=function(r){var n=i[r],a=compile(n,t);Object.assign(e,a),o[r]=Object.keys(a)};for(var s in i)a(s);return r&&r.set(i,o),o}}}function concatClassName(e,t){if("dss"!==t.substr(0,3))return{shouldInject:!1,className:"".concat(t," ").concat(e),group:null};var r=t.substr(0,t.indexOf("-"));return e.indexOf(r)>-1?{shouldInject:!1,className:e,group:null}:{shouldInject:!0,className:"".concat(e," ").concat(t),group:Number(t.substring(3,t.indexOf("_")).replace("\\",""))}}function createStyleResolver(e,t,r){var i={},n={};return{getStyleSheet:function(){return"undefined"==typeof window&&(i={},n={}),e},resolve:function(o){var a=r.i18n||{},s=a.isRTL+a.doLeftAndRightSwapInRTL+o.join();if(i[s])return i[s];for(var u="",l=o.length-1;l>=0;l--){var c=o[l];if(c){"string"==typeof c&&(c=[c]);for(var f=0;f<c.length;f++){var d=c[f],h=void 0,p=d.split("|"),m=void 0,g=void 0;p.length>1?(g=a.isRTL&&a.doLeftAndRightSwapInRTL?1:0,m=t[d],d=p[g],h=m[g]):h=t[d];var v=concatClassName(u,d);if(u=v.className,v.shouldInject&&!n[d]){if(h&&(e.insertRule(h,v.group),m&&!isBrowser)){var b=g?0:1;e.insertRule(m[b],v.group),n[p[b]]=!0}n[d]=!0}}}}return u=u.trim(),i[s]=u,u}}}function createSheet(e){var t=null;if(e=e||"undefined"==typeof window?null:window.document){var r=e.createElement("style");e.head.appendChild(r),t=r.sheet}return t}function create(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function r(t){if((e=t)&&!isProd){if("boolean"!=typeof e.isRTL)throw new Error("i18n.isRTL must be a boolean.");if("boolean"!=typeof e.doLeftAndRightSwapInRTL)throw new Error("i18n.doLeftAndRightSwapInRTL must be a boolean.")}}r(t.i18n);var i=createOrderedCSSStyleSheet(t.sheet||createSheet()),n={},o={get i18n(){return e}};return{StyleSheet:createStyleSheet(n,o),StyleResolver:createStyleResolver(i,n,o),setI18nManager:r}}exports.create=create,exports.createSheet=createSheet;